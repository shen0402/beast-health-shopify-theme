{% comment %} ATTENTION!!! This is compiled version of blog-related-regular.liquid and it is overriding automatically. You should use theme development tool and sources\sections\blog-related-regular.liquid file to code and save your changes. {% endcomment %}{% comment %} ATTENTION!!! This is compiled version of blog-related-custom.liquid and it is overriding automatically. You should use theme development tool and sources\sections\blog-related-custom.liquid file to code and save your changes. {% endcomment %}{% if blog.articles.size > 1 %}

  {% if section.settings.visible %}

    {% render 'ea-section-styles', section: section %}

    <div class="section_container">
      <div class="main_content container">
        <div class="main_wrapper">  
          <div class="title not-animated">{{ section.settings.title }}</div>
          <div class="related_articles slider m-custom-controls">
            <div data-hor-slider data-slides-to-show="{{ section.settings.row_num }}" data-slides-to-show-ipad="3" data-slides-to-show-mob="{{ section.settings.row_num_mob }}" data-dots="true" data-infinite="false" data-arrows="true" data-custom-controls="1">
              {% for _article in blog.articles %}
                {% unless article.handle == _article.handle %}
                  <div class="article_item">
                    {% render 'post-cell-custom', article: _article %}
                  </div>
                {% endunless %}
              {% endfor %}
            </div>
            <div class="slider-controls">
              <button class="slider-arrow slider-prev m-icon" data-hor-slider-prev>{% render 'icon' with 'slick-arrow-left' %}</button>
              <div class="slider-dots" data-hor-slider-dots></div>
              <button class="slider-arrow slider-next m-icon" data-hor-slider-next>{% render 'icon' with 'slick-arrow-right' %}</button>
            </div>
            {% comment %}
            <div class="hide--desktop">
              <div class="swipe-text">swipe left to see more</div>
            </div>
            {% endcomment %}
          </div>
        </div>
      </div>
    </div>


  {% endif %}

{% endif %}

{% schema %}
{
  "name": "Related Articles",
  "class": "related-articles",
  "tag": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "visible",
      "label": "Show block",
      "default": true
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "ptop",
      "label": "Top spacing desktop",
      "min": 0,
      "unit": "px",
      "max": 500,
      "step": 5,
      "default": 45
    },
    {
      "type": "range",
      "id": "pbottom",
      "label": "Bottom spacing desktop",
      "min": 0,
      "unit": "px",
      "max": 500,
      "step": 5,
      "default": 45
    },
    {
      "type": "range",
      "id": "ptop_mob",
      "label": "Top spacing mobile",
      "min": 0,
      "unit": "px",
      "max": 500,
      "step": 5,
      "default": 45
    },
    {
      "type": "range",
      "id": "pbottom_mob",
      "label": "Bottom spacing mobile",
      "min": 0,
      "unit": "px",
      "max": 500,
      "step": 5,
      "default": 45
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "color",
      "id": "sectionbg",
      "label": "Background",
      "default": "#fff"
    },
    {
      "type": "header",
      "content": "Setting"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "range",
      "min": 6,
      "max": 50,
      "step": 1,
      "default": 14,
      "id": "posts_num",
      "label": "Max Posts"
    },
    {
      "type": "range",
      "min": 2,
      "max": 4,
      "step": 1,
      "default": 3,
      "id": "row_num",
      "label": "Posts per row (desktop)"
    },
    {
      "type": "range",
      "min": 1,
      "max": 3,
      "step": 1,
      "default": 1,
      "id": "row_num_mob",
      "label": "Posts per row (mobile)"
    }
  ]
}
{% endschema %}